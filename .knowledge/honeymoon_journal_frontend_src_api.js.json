{"is_source_file": true, "format": "JavaScript", "description": "This file contains API utility functions for interacting with a backend server, including user authentication (register, login, logout, profile), diary entries management, and gallery media uploads. It defines functions that perform fetch requests to various REST API endpoints, handling JSON data and media uploads.", "external_files": ["none", "Env variable REACT_APP_API_URL (environment configuration)"], "external_methods": ["fetch"], "published": ["registerUser", "loginUser", "logoutUser", "fetchProfile", "createEntry", "uploadMedia", "fetchGallery", "fetchEntries"], "classes": [], "methods": [{"name": "parseJSON", "description": "Helper function to parse the JSON response or throw an error if response is not ok."}, {"name": "registerUser({ name, email, password })", "description": "Registers a new user with name, email, and password via POST request.", "scope": "", "scopeKind": ""}, {"name": "loginUser({ email, password })", "description": "Logs in a user with email and password, managing authentication cookies or tokens.", "scope": "", "scopeKind": ""}, {"name": "logoutUser(token)", "description": "Logs out the current user, sending a POST request to invalidate the session.", "scope": "", "scopeKind": ""}, {"name": "fetchProfile(token)", "description": "Retrieves the profile information of the authenticated user.", "scope": "", "scopeKind": ""}, {"name": "createEntry({ title, content, privacy, media }, token)", "description": "Creates a new diary entry with optional media attachment.", "scope": "", "scopeKind": ""}, {"name": "uploadMedia(media, token)", "description": "Uploads media files to the gallery, returns media metadata.", "scope": "", "scopeKind": ""}, {"name": "fetchGallery(token)", "description": "Fetches list of uploaded gallery media files.", "scope": "", "scopeKind": ""}, {"name": "fetchEntries(token)", "description": "Fetches all diary entries for the authenticated user.", "scope": "", "scopeKind": ""}], "calls": ["fetch", "parseJSON"], "search-terms": ["API utility", "React fetch calls", "user auth functions", "media upload", "diary entries API", "gallery management"], "state": 2, "file_id": 34, "knowledge_revision": 70, "git_revision": "", "ctags": [{"_type": "tag", "name": "BASE_URL", "path": "/home/kavia/workspace/code-generation/honeymoon-memory-journal-ad3a6afd/honeymoon_journal_frontend/src/api.js", "pattern": "/^const BASE_URL = process.env.REACT_APP_API_URL || \"http:\\/\\/localhost:4000\"; \\/\\/ Set as needed$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "createEntry", "path": "/home/kavia/workspace/code-generation/honeymoon-memory-journal-ad3a6afd/honeymoon_journal_frontend/src/api.js", "pattern": "/^export async function createEntry({ title, content, privacy, media }, token) {$/", "language": "JavaScript", "kind": "function", "signature": "({ title, content, privacy, media }, token)"}, {"_type": "tag", "name": "error", "path": "/home/kavia/workspace/code-generation/honeymoon-memory-journal-ad3a6afd/honeymoon_journal_frontend/src/api.js", "pattern": "/^  const error = await res.json().catch(() => ({}));$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "fetchEntries", "path": "/home/kavia/workspace/code-generation/honeymoon-memory-journal-ad3a6afd/honeymoon_journal_frontend/src/api.js", "pattern": "/^export async function fetchEntries(token) {$/", "language": "JavaScript", "kind": "function", "signature": "(token)"}, {"_type": "tag", "name": "fetchGallery", "path": "/home/kavia/workspace/code-generation/honeymoon-memory-journal-ad3a6afd/honeymoon_journal_frontend/src/api.js", "pattern": "/^export async function fetchGallery(token) {$/", "language": "JavaScript", "kind": "function", "signature": "(token)"}, {"_type": "tag", "name": "fetchProfile", "path": "/home/kavia/workspace/code-generation/honeymoon-memory-journal-ad3a6afd/honeymoon_journal_frontend/src/api.js", "pattern": "/^export async function fetchProfile(token) {$/", "language": "JavaScript", "kind": "function", "signature": "(token)"}, {"_type": "tag", "name": "loginUser", "path": "/home/kavia/workspace/code-generation/honeymoon-memory-journal-ad3a6afd/honeymoon_journal_frontend/src/api.js", "pattern": "/^export async function loginUser({ email, password }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ email, password })"}, {"_type": "tag", "name": "logoutUser", "path": "/home/kavia/workspace/code-generation/honeymoon-memory-journal-ad3a6afd/honeymoon_journal_frontend/src/api.js", "pattern": "/^export async function logoutUser(token) {$/", "language": "JavaScript", "kind": "function", "signature": "(token)"}, {"_type": "tag", "name": "parseJSON", "path": "/home/kavia/workspace/code-generation/honeymoon-memory-journal-ad3a6afd/honeymoon_journal_frontend/src/api.js", "pattern": "/^const parseJSON = async (res) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "registerUser", "path": "/home/kavia/workspace/code-generation/honeymoon-memory-journal-ad3a6afd/honeymoon_journal_frontend/src/api.js", "pattern": "/^export async function registerUser({ name, email, password }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ name, email, password })"}, {"_type": "tag", "name": "uploadMedia", "path": "/home/kavia/workspace/code-generation/honeymoon-memory-journal-ad3a6afd/honeymoon_journal_frontend/src/api.js", "pattern": "/^export async function uploadMedia(media, token) {$/", "language": "JavaScript", "kind": "function", "signature": "(media, token)"}], "hash": "a89d26471c0f912515124356313eccbc", "format-version": 4, "code-base-name": "honeymoon_journal_frontend", "filename": "honeymoon_journal_frontend/src/api.js", "revision_history": [{"70": ""}]}